{
  "environment": {
    "A": "a",
    "B": "b"
  },
  "rules":[
    {
      "command":"echo $A > A",
      "outputs":["A"]
    },
    {
      "command":"echo $B > B",
      "outputs":["B"],
      "environment": {
        "B": "x"
      }
    },
    {
      "inputs": ["A", "B"],
      "command": "[ \"$A\" = $(cat A) ] && [ x = $(cat B) ]"
    }
  ]
}
